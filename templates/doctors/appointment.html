{% extends 'base.html' %}

{% block content %}
{% load static %}
<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/caleandar.css' %}">
<script src="{% static 'js/caleandar.min.js' %}"></script>
<script src="{% static 'js/appointment.js' %}"></script>
<div id="colorlib-contact">
            <div class="container">
                <div class="row animate-box">
                    <div class="col-md-6 col-md-offset-3 text-center colorlib-heading">
                        <h2>Записаться на прием</h2>
                        <p>Запишитесь на прием в 2 клика!</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <form action="/doctors/api/create_appointment" method="post" class="appointment-wrap animate-box">{% csrf_token %}
                            <div class="row">
                                <div class="col col-md-12" style="margin-bottom: 50px;">
                                    <input id="pac-input" class="controls dropdown-toggle pac-input" data-toggle="dropdown" type="text" placeholder="Выберите специалиста..." onkeyup="showResult(this.value)" autocomplete="off">
                                    <div id="livesearch" class="my-dropdown-menu"></div>
                                </div>
                            </div>
                            <input id="choosed-doctor" class="hidden" name="doctor">
                            <div id="caleandar" style="display: none;" onchange="on_calendar_change();"></div>
                            <input id="choosed-date" class="hidden" name="date">
                            <div id='time-picker' class="btn-group" style="display: none;"></div>
                            <input id="choosed-time" class="hidden" name="time">
                            <hr>
                            <div class="form-group">
                                <input id="time-picker-submit" type="submit" value="Записаться" class="btn btn-primary" style="display: none;">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

<script type="text/javascript">
var events = [
  {'Date': new Date(2016, 6, 7), 'Title': 'Doctor appointment at 3:25pm.'},
  {'Date': new Date(2016, 6, 18), 'Title': 'New Garfield movie comes out!', 'Link': 'https://garfield.com'},
  {'Date': new Date(2016, 6, 27), 'Title': '25 year anniversary', 'Link': 'https://www.google.com.au/#q=anniversary+gifts'},
];
var settings = {};
var element = document.getElementById('caleandar');

$('#caleandar').bind("DOMSubtreeModified", on_calendar_change);
caleandar(element, events, settings);
</script>
<script src="{% static 'js/livesearch_choose.js' %}"></script>
{% endblock %}